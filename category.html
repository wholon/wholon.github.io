---
layout: catalogue
sidebar:
    nav: cs
---

<script>
    //decodeURIComponent 是为了防止浏览器转义中文字体，然后获取不到。
    var category = decodeURIComponent(parseURL(document.location.href).params["category"]);
    var data = '{ { % for categorie in site.categories %}{ % if categorie[0] != site.categories.first[0] %},{ % endif %}"{ { categorie[0] }}":[{ % for post in categorie[1] %}{ % if post != categorie[1].first %},{ % endif %}{"url":"{ {post.url}}", "tags":{ {post.tags | jsonify }} , "content":"{ {post.excerpt | uri_escape}}" , "title":"{ {post.title}}","date":"{ {post.date | date:"%d/%m/%Y"}}"}{ % endfor %}]{ % endfor %} }';
    var arr = JSON.parse(data)[category];

    /**
     * [parseURL 解析url]
     * @param  {[String]} url [url]
     * @return {[Object]}     [返回解析好的对象]
     */
     function parseURL(url) {
        var a =  document.createElement("a");
        a.href = url;
        return {
            source: url,
            protocol: a.protocol.replace(":",""),
            host: a.hostname,
            port: a.port,
            query: a.search,
            params: (function(){
                var ret = {},
                    seg = a.search.replace(/^\?/,"").split("&"),
                    len = seg.length, i = 0, s;
                for ( ; i < len ; i++ ) {
                    if ( !seg[i] ) { continue; }
                    s = seg[i].split("=");
                    ret[s[0]] = s[1];
                }
                return ret;
            })(),
            file: (a.pathname.match(/\/([^\/?#]+)$/i) || [,""])[1],
            hash: a.hash.replace("#",""),
            path: a.pathname.replace(/^([^\/])/,"/$1"),
            relative: (a.href.match(/tps?:\/\/[^\/]+(.+)/) || [,""])[1],
            segments: a.pathname.replace(/^\//,"").split("/")
        };
    }
</script>